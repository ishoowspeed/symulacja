<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Symulator Meczu FIFA</title>
  <style>
    body {
      background: radial-gradient(circle at center, #0a3d0a 0%, #012a01 100%);
      color: white;
      font-family: "Poppins", sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    h1 {
      font-size: 2rem;
      margin-top: 20px;
      text-shadow: 0 0 10px #00ff00;
    }
    .scoreboard {
      margin: 20px auto;
      background: rgba(0, 0, 0, 0.4);
      border-radius: 15px;
      padding: 15px;
      width: 90%;
      max-width: 600px;
      box-shadow: 0 0 15px #0f0;
    }
    .teams {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.5rem;
      margin: 10px 0;
    }
    .controls, .inputs {
      margin: 15px auto;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 10px;
      width: 90%;
      max-width: 600px;
    }
    input, select, button, textarea {
      margin: 5px;
      padding: 8px;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
    }
    input, select, textarea {
      width: 90%;
      max-width: 250px;
    }
    button {
      background: #00cc00;
      color: white;
      cursor: pointer;
      font-weight: bold;
      transition: 0.3s;
    }
    button:hover {
      background: #00ff00;
      box-shadow: 0 0 10px #00ff00;
    }
    .log {
      background: rgba(0, 0, 0, 0.6);
      border-radius: 10px;
      margin: 20px auto;
      width: 90%;
      max-width: 600px;
      height: 250px;
      overflow-y: auto;
      text-align: left;
      padding: 10px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <h1>‚öΩ Symulator Meczu FIFA ‚öΩ</h1>

  <div class="inputs">
    <input type="text" id="teamAName" placeholder="Nazwa Klubu A" oninput="updateNames()">
    <input type="text" id="teamBName" placeholder="Nazwa Klubu B" oninput="updateNames()">
    <br>
    <select id="stadium">
      <option value="homeA">Stadion Klubu A</option>
      <option value="homeB">Stadion Klubu B</option>
      <option value="neutral">Neutralny Stadion</option>
    </select>
  </div>

  <div class="scoreboard">
    <div class="teams">
      <span id="teamA">Klub A</span>
      <span id="score">0 : 0</span>
      <span id="teamB">Klub B</span>
    </div>
    <div id="time">Czas: 0'</div>
  </div>

  <div class="controls">
    <button onclick="startMatch()">Start</button>
    <button onclick="pauseMatch()">Pauza</button>
    <button onclick="resetMatch()">Reset</button>
  </div>

  <div class="log" id="log"></div>

  <script>
    let minute = 0;
    let scoreA = 0, scoreB = 0;
    let interval = null;
    let isPaused = false;
    let homeAdvantage = 1.0;

    function updateNames() {
      document.getElementById("teamA").innerText = document.getElementById("teamAName").value || "Klub A";
      document.getElementById("teamB").innerText = document.getElementById("teamBName").value || "Klub B";
    }

    function logEvent(text) {
      const logDiv = document.getElementById("log");
      logDiv.innerHTML += `<div>[${minute}'] ${text}</div>`;
      logDiv.scrollTop = logDiv.scrollHeight;
    }

    function randomEvent() {
      const r = Math.random();
      const adjustedA = homeAdvantage;
      const adjustedB = 2 - homeAdvantage;

      if (r < 0.05 * adjustedA) {
        scoreA++;
        logEvent(`${document.getElementById("teamA").innerText} zdobywa gola! ‚öΩ`);
      } else if (r < 0.1 * adjustedB) {
        scoreB++;
        logEvent(`${document.getElementById("teamB").innerText} zdobywa gola! ‚öΩ`);
      } else if (r < 0.13) {
        logEvent("≈ª√≥≈Çta kartka! üü®");
      } else if (r < 0.14) {
        logEvent("Czerwona kartka! üü•");
      } else if (r < 0.16) {
        logEvent("Kapitalna obrona bramkarza! üß§");
      }
      document.getElementById("score").innerText = `${scoreA} : ${scoreB}`;
    }

    function startMatch() {
      if (interval) return;
      const stadium = document.getElementById("stadium").value;
      homeAdvantage = stadium === "homeA" ? 1.15 : stadium === "homeB" ? 0.85 : 1.0;
      logEvent("üîî Mecz rozpoczƒôty!");
      interval = setInterval(() => {
        if (!isPaused) {
          minute++;
          document.getElementById("time").innerText = `Czas: ${minute}'`;
          randomEvent();
          if (minute >= 90) {
            clearInterval(interval);
            interval = null;
            logEvent(`üèÅ Koniec meczu! Wynik: ${scoreA} - ${scoreB}`);
          }
        }
      }, 300); // 300ms = 1 minuta w grze
    }

    function pauseMatch() {
      isPaused = !isPaused;
      logEvent(isPaused ? "‚è∏Ô∏è Pauza" : "‚ñ∂Ô∏è Wznowiono mecz");
    }

    function resetMatch() {
      clearInterval(interval);
      interval = null;
      minute = 0;
      scoreA = 0;
      scoreB = 0;
      isPaused = false;
      document.getElementById("time").innerText = "Czas: 0'";
      document.getElementById("score").innerText = "0 : 0";
      document.getElementById("log").innerHTML = "";
      logEvent("üîÑ Mecz zresetowany.");
    }
  </script>
</body>
</html>
